!function(e){var o={};function r(n){if(o[n])return o[n].exports;var s=o[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=o,r.d=function(e,o,n){r.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,o){if(1&o&&(e=r(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var s in e)r.d(n,s,function(o){return e[o]}.bind(null,s));return n},r.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(o,"a",o),o},r.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},r.p="/rexpack",r(r.s=4)}([function(e,o){e.exports=require("mongoose")},function(e,o){e.exports=require("express")},function(e,o){e.exports=require("body-parser")},function(e,o){e.exports=require("path")},function(e,o,r){"use strict";r.r(o);var n=r(3),s=r.n(n),l=r(1),t=r.n(l),c=r(0),a=r.n(c),d={dbUri:"mongodb+srv://shobhitsingh29:yatra@clusterbackend-nypki.mongodb.net/shobhitdb"},i=function(e){return d[e]},A=r(2),u=r.n(A),C=new(0,a.a.Schema)({id:Number,message:String},{timestamps:!0}),h=a.a.model("Data",C),f=t()(),w=__dirname,g=s.a.join(w,"index.html");f.use((function(e,o,r){e.header("Access-Control-Allow-Origin","*"),e.mode="no-cors",e.header("Access-Control-Allow-Headers","*"),e.header("Access-Control-Allow-Credentials",!0),o.header("Access-Control-Allow-Origin","*"),o.header("Access-Control-Allow-Headers","*"),o.header("Access-Control-Allow-Credentials",!0),r()})),a.a.connect(i("dbUri")),a.a.connection.on("error",console.error.bind(console,"MongoDB connection error:"));var p=t.a.Router();f.use(t.a.static(w)),f.use(u.a.urlencoded({extended:!1})),f.use(u.a.json()),f.use("/api",p),p.get("/getData",(function(e,o){e.header("Access-Control-Allow-Origin","*"),e.mode="no-cors",e.header("Access-Control-Allow-Headers","*"),e.header("Access-Control-Allow-Credentials",!0),o.header("Access-Control-Allow-Origin","*"),o.header("Access-Control-Allow-Headers","*"),o.header("Access-Control-Allow-Credentials",!0),h.find((function(e,r){return e?o.json({success:!1,error:e}):o.json({success:!0,data:r})}))})),p.post("/updateData",(function(e,o){e.header("Access-Control-Allow-Origin","*"),e.mode="no-cors",e.header("Access-Control-Allow-Headers","*"),e.header("Access-Control-Allow-Credentials",!0),o.header("Access-Control-Allow-Origin","*"),o.header("Access-Control-Allow-Headers","*"),o.header("Access-Control-Allow-Credentials",!0);var r=e.body,n=r.id,s=r.update;h.findByIdAndUpdate(n,s,(function(e){return e?o.json({success:!1,error:e}):o.json({success:!0})}))})),p.delete("/deleteData",(function(e,o){e.header("Access-Control-Allow-Origin","*"),e.mode="no-cors",e.header("Access-Control-Allow-Headers","*"),e.header("Access-Control-Allow-Credentials",!0),o.header("Access-Control-Allow-Origin","*"),o.header("Access-Control-Allow-Headers","*"),o.header("Access-Control-Allow-Credentials",!0);var r=e.body.id;h.findByIdAndRemove(r,(function(e){return e?o.send(e):o.json({success:!0})}))})),p.post("/putData",(function(e,o){e.header("Access-Control-Allow-Origin","*"),e.mode="no-cors",e.header("Access-Control-Allow-Headers","*"),e.header("Access-Control-Allow-Credentials",!0),o.header("Access-Control-Allow-Origin","*"),o.header("Access-Control-Allow-Headers","*"),o.header("Access-Control-Allow-Credentials",!0);var r=new h,n=e.body,s=n.id,l=n.message;if(!s&&0!==s||!l)return o.json({success:!1,error:"INVALID INPUTS"});r.message=l,r.id=s,r.save((function(e){return e?o.json({success:!1,error:e}):o.json({success:!0})}))})),p.get("/",(function(e,o){e.header("Access-Control-Allow-Origin","*"),e.mode="no-cors",e.header("Access-Control-Allow-Headers","*"),e.header("Access-Control-Allow-Credentials",!0),o.header("Access-Control-Allow-Origin","*"),o.header("Access-Control-Allow-Headers","*"),o.header("Access-Control-Allow-Credentials",!0),o.json({message:"HELLOW WORLDUUHHHH"})})),f.get("*",(function(e,o){e.header("Access-Control-Allow-Origin","*"),e.mode="no-cors",e.header("Access-Control-Allow-Headers","*"),e.header("Access-Control-Allow-Credentials",!0),o.header("Access-Control-Allow-Origin","*"),o.header("Access-Control-Allow-Headers","*"),o.header("Access-Control-Allow-Credentials",!0),o.sendFile(g)}));var m=process.env.PORT||8080;f.listen(m,(function(){console.log("App listening to ".concat(m,"....")),console.log("Press Ctrl+C to quit.")}))}]);